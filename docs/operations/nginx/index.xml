<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Nginx on â˜˜ï¸ Septvean&#39;s Documents</title>
    <link>https://documents.v2ep.com/operations/nginx/</link>
    <description>Recent content in Nginx on â˜˜ï¸ Septvean&#39;s Documents</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <atom:link href="https://documents.v2ep.com/operations/nginx/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Nginx FAQ</title>
      <link>https://documents.v2ep.com/operations/nginx/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/faq/</guid>
      <description>&lt;p&gt;å†…å®¹ï¼šæ ¸å¿ƒæ¦‚å¿µã€åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€æ€§èƒ½ä¼˜åŒ–ã€æ•…éšœæ’æŸ¥ã€é…ç½®ç»†èŠ‚ã€HTTPSã€HTTP/2ã€OpenResty ç­‰ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;ä¸€åŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ&#34;&#xA;    &gt;&#xA;        ä¸€ã€åŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/faq/#ä¸€åŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ä¸€ã€åŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ&#34; aria-label=&#34;Anchor to: ä¸€ã€åŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ&#34; href=&#34;#%e4%b8%80%e5%9f%ba%e7%a1%80%e4%b8%8e%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;1-nginx-çš„å·¥ä½œæ¨¡å‹æ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆæ€§èƒ½é«˜&#34;&#xA;    &gt;&#xA;        1. Nginx çš„å·¥ä½œæ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼Ÿ&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/faq/#1-nginx-çš„å·¥ä½œæ¨¡å‹æ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆæ€§èƒ½é«˜&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. Nginx çš„å·¥ä½œæ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼Ÿ&#34; aria-label=&#34;Anchor to: 1. Nginx çš„å·¥ä½œæ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼Ÿ&#34; href=&#34;#1-nginx-%e7%9a%84%e5%b7%a5%e4%bd%9c%e6%a8%a1%e5%9e%8b%e6%98%af%e4%bb%80%e4%b9%88%e4%b8%ba%e4%bb%80%e4%b9%88%e6%80%a7%e8%83%bd%e9%ab%98&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;åŸºäº &lt;strong&gt;å¤šè¿›ç¨‹ + å•çº¿ç¨‹ + å¼‚æ­¥éé˜»å¡äº‹ä»¶é©±åŠ¨ï¼ˆepollï¼‰&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;master è´Ÿè´£ç®¡ç†ï¼Œworker å¤„ç†è¯·æ±‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;æ¯ä¸ª worker ç”¨å¼‚æ­¥ IOï¼ˆepoll/kqueueï¼‰å¤„ç†å¤§é‡è¿æ¥&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;æ— çº¿ç¨‹åˆ‡æ¢ä¸Šä¸‹æ–‡å¼€é”€&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Nginx é‡‡ç”¨äº† â€œmaster + workerâ€ æ¨¡å‹ï¼Œworker ä½¿ç”¨ epoll äº‹ä»¶é©±åŠ¨æ¨¡å‹å¤„ç†è¯·æ±‚ï¼Œå¼‚æ­¥éé˜»å¡ï¼Œæ— éœ€ä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºçº¿ç¨‹ï¼Œå› æ­¤ä¸Šä¸‹æ–‡åˆ‡æ¢å°‘ã€å¼€é”€å°ï¼Œä¸ä¼šè¢«æ…¢è¿æ¥é˜»å¡ï¼Œå› æ­¤ååé‡é«˜ã€å»¶è¿Ÿä½ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;2-nginx-å¸¸è§çš„å‡ ç§è§’è‰²ç”¨é€”&#34;&#xA;    &gt;&#xA;        2. Nginx å¸¸è§çš„å‡ ç§è§’è‰²ï¼ˆç”¨é€”ï¼‰ï¼Ÿ&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/faq/#2-nginx-å¸¸è§çš„å‡ ç§è§’è‰²ç”¨é€”&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. Nginx å¸¸è§çš„å‡ ç§è§’è‰²ï¼ˆç”¨é€”ï¼‰ï¼Ÿ&#34; aria-label=&#34;Anchor to: 2. Nginx å¸¸è§çš„å‡ ç§è§’è‰²ï¼ˆç”¨é€”ï¼‰ï¼Ÿ&#34; href=&#34;#2-nginx-%e5%b8%b8%e8%a7%81%e7%9a%84%e5%87%a0%e7%a7%8d%e8%a7%92%e8%89%b2%e7%94%a8%e9%80%94&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;åå‘ä»£ç†&lt;/strong&gt;ï¼šåç«¯é›†ç¾¤è´Ÿè½½å‡è¡¡&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;æ­£å‘ä»£ç†&lt;/strong&gt;ï¼šä»£ç†å®¢æˆ·ç«¯è®¿é—®å¤–ç½‘&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;HTTP æœåŠ¡å™¨&lt;/strong&gt;ï¼šç”¨ä½œ Web Serverï¼ˆé™æ€èµ„æºï¼‰&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡å™¨&lt;/strong&gt;ï¼šRound robin / IP hash / Least connections ç­‰&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;ç¼“å­˜æœåŠ¡å™¨&lt;/strong&gt;ï¼šFastCGI cache / proxy cache&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;API ç½‘å…³ / ACL é™åˆ¶ / WAF&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;3-nginx-æ”¯æŒå“ªäº›è´Ÿè½½å‡è¡¡ç®—æ³•&#34;&#xA;    &gt;&#xA;        3. Nginx æ”¯æŒå“ªäº›è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Ÿ&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/faq/#3-nginx-æ”¯æŒå“ªäº›è´Ÿè½½å‡è¡¡ç®—æ³•&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 3. Nginx æ”¯æŒå“ªäº›è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Ÿ&#34; aria-label=&#34;Anchor to: 3. Nginx æ”¯æŒå“ªäº›è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Ÿ&#34; href=&#34;#3-nginx-%e6%94%af%e6%8c%81%e5%93%aa%e4%ba%9b%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1%e7%ae%97%e6%b3%95&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;æ ‡å‡†ç®—æ³•ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx åŸºç¡€æ•™ç¨‹</title>
      <link>https://documents.v2ep.com/operations/nginx/tutorial/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/tutorial/</guid>
      <description>&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-master--worker-æ¶æ„&#34;&#xA;    &gt;&#xA;        1. Master / Worker æ¶æ„&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/tutorial/#1-master--worker-æ¶æ„&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. Master / Worker æ¶æ„&#34; aria-label=&#34;Anchor to: 1. Master / Worker æ¶æ„&#34; href=&#34;#1-master--worker-%e6%9e%b6%e6%9e%84&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;Nginx æ˜¯ å¤šè¿›ç¨‹äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;master è¿›ç¨‹&lt;/li&gt;&#xA;&lt;li&gt;è¯»å–é…ç½®æ–‡ä»¶&lt;/li&gt;&#xA;&lt;li&gt;ç®¡ç† worker è¿›ç¨‹ï¼ˆå¯åŠ¨ã€åœæ­¢ã€é‡è½½ï¼‰&lt;/li&gt;&#xA;&lt;li&gt;worker è¿›ç¨‹&lt;/li&gt;&#xA;&lt;li&gt;çœŸæ­£å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚&lt;/li&gt;&#xA;&lt;li&gt;æ¯ä¸ª worker å•çº¿ç¨‹&lt;/li&gt;&#xA;&lt;li&gt;ä½¿ç”¨ â€œå¼‚æ­¥éé˜»å¡ + epollâ€ å¤„ç†å¤§é‡è¿æ¥&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ğŸ“Œ &lt;strong&gt;æ ¸å¿ƒåŸåˆ™ï¼šworker_processes = CPU æ ¸å¿ƒæ•°ï¼ˆauto é»˜è®¤æœ€ä¼˜ï¼‰&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-äº‹ä»¶é©±åŠ¨event-driven&#34;&#xA;    &gt;&#xA;        2. äº‹ä»¶é©±åŠ¨ï¼ˆEvent-drivenï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/tutorial/#2-äº‹ä»¶é©±åŠ¨event-driven&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. äº‹ä»¶é©±åŠ¨ï¼ˆEvent-drivenï¼‰&#34; aria-label=&#34;Anchor to: 2. äº‹ä»¶é©±åŠ¨ï¼ˆEvent-drivenï¼‰&#34; href=&#34;#2-%e4%ba%8b%e4%bb%b6%e9%a9%b1%e5%8a%a8event-driven&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;Nginx ä½¿ç”¨ epollï¼ˆLinuxï¼‰æ¨¡å‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx åå‘ä»£ç†æœ€ä½³å®è·µ</title>
      <link>https://documents.v2ep.com/operations/nginx/reverse-proxy-best-practices/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/reverse-proxy-best-practices/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ æœ€å®ç”¨ã€æœ€èƒ½è½åœ°çš„ã€ŠNginx åå‘ä»£ç†æœ€ä½³å®è·µã€‹ï¼Œç»“æ„æ¸…æ™°ã€ç”Ÿäº§çº§å¯ç›´æ¥å¤ç”¨ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-ä½¿ç”¨æ ‡å‡†åå‘ä»£ç†é…ç½®å®‰å…¨ç¨³å®š&#34;&#xA;    &gt;&#xA;        1. ä½¿ç”¨æ ‡å‡†åå‘ä»£ç†é…ç½®ï¼ˆå®‰å…¨ã€ç¨³å®šï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/reverse-proxy-best-practices/#1-ä½¿ç”¨æ ‡å‡†åå‘ä»£ç†é…ç½®å®‰å…¨ç¨³å®š&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. ä½¿ç”¨æ ‡å‡†åå‘ä»£ç†é…ç½®ï¼ˆå®‰å…¨ã€ç¨³å®šï¼‰&#34; aria-label=&#34;Anchor to: 1. ä½¿ç”¨æ ‡å‡†åå‘ä»£ç†é…ç½®ï¼ˆå®‰å…¨ã€ç¨³å®šï¼‰&#34; href=&#34;#1-%e4%bd%bf%e7%94%a8%e6%a0%87%e5%87%86%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e9%85%8d%e7%bd%ae%e5%ae%89%e5%85%a8%e7%a8%b3%e5%ae%9a&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;location&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;/api/&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;proxy_pass&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;http://backend_api&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;Host&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;X-Real-IP&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$remote_addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;X-Forwarded-For&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;X-Forwarded-Proto&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$scheme&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;proxy_http_version&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;Connection&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¦ç‚¹&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;proxy_http_version 1.1 + Connection &amp;quot;&amp;quot; é¿å…åç«¯ keepalive å¼‚å¸¸&lt;/li&gt;&#xA;&lt;li&gt;çœŸå® IP é€ä¼ &lt;/li&gt;&#xA;&lt;li&gt;ä¸æ”¹ Hostï¼Œåç«¯å¯æ ¹æ®åŸŸååšè·¯ç”±æˆ–é‰´æƒ&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-é¿å…-proxy_pass-url-æ‹¼æ¥å‘&#34;&#xA;    &gt;&#xA;        2. é¿å… proxy_pass URL æ‹¼æ¥å‘&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/reverse-proxy-best-practices/#2-é¿å…-proxy_pass-url-æ‹¼æ¥å‘&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. é¿å… proxy_pass URL æ‹¼æ¥å‘&#34; aria-label=&#34;Anchor to: 2. é¿å… proxy_pass URL æ‹¼æ¥å‘&#34; href=&#34;#2-%e9%81%bf%e5%85%8d-proxy_pass-url-%e6%8b%bc%e6%8e%a5%e5%9d%91&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;âŒ &lt;strong&gt;é”™è¯¯ç¤ºä¾‹ï¼ˆä¼šå¤šä¸€å±‚è·¯å¾„ï¼‰&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx åå‘ä»£ç†è¯¦è§£</title>
      <link>https://documents.v2ep.com/operations/nginx/reverse-proxy-core/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/reverse-proxy-core/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ ä¸€ä»½æ·±å…¥ä½†éå¸¸æ˜“æ‡‚çš„ã€ŠNginx åå‘ä»£ç†è¯¦è§£ã€‹ï¼ŒåŒ…å«æ¦‚å¿µã€æœºåˆ¶ã€æ ¸å¿ƒæŒ‡ä»¤ã€ç”Ÿäº§çº§é…ç½®ã€è°ƒä¼˜æ€è·¯ã€æœ€ä½³å®è·µã€å¸¸è§å‘ç‚¹ï¼Œä¸€çœ‹å°±èƒ½ç›´æ¥åº”ç”¨åˆ°ä½ çš„é¡¹ç›®ï¼ˆFastAPI / Umi / React / PostgreSQL / Redis ç­‰ï¼‰ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-ä»€ä¹ˆæ˜¯åå‘ä»£ç†reverse-proxy&#34;&#xA;    &gt;&#xA;        1. ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/reverse-proxy-core/#1-ä»€ä¹ˆæ˜¯åå‘ä»£ç†reverse-proxy&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰&#34; aria-label=&#34;Anchor to: 1. ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰&#34; href=&#34;#1-%e4%bb%80%e4%b9%88%e6%98%af%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86reverse-proxy&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;æ­£å‘ä»£ç†ï¼ˆå®¢æˆ·ç«¯ -&amp;gt; ä»£ç† -&amp;gt; æœåŠ¡å™¨ï¼‰&lt;/li&gt;&#xA;&lt;li&gt;åå‘ä»£ç†ï¼ˆå®¢æˆ·ç«¯ -&amp;gt; Nginx -&amp;gt; åç«¯åº”ç”¨ï¼‰&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;åå‘ä»£ç†éšè—åç«¯æœåŠ¡ï¼Œç»Ÿä¸€å…¥å£ï¼Œä½¿ç³»ç»Ÿå…·æœ‰ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;ç»Ÿä¸€å‡ºå£ï¼ˆç»Ÿä¸€åŸŸåï¼‰&lt;/li&gt;&#xA;&lt;li&gt;è´Ÿè½½å‡è¡¡&lt;/li&gt;&#xA;&lt;li&gt;ç¼“å­˜èƒ½åŠ›&lt;/li&gt;&#xA;&lt;li&gt;å®‰å…¨é˜²æŠ¤&lt;/li&gt;&#xA;&lt;li&gt;SSL offloadï¼ˆè¯ä¹¦ç»ˆæ­¢ï¼‰&lt;/li&gt;&#xA;&lt;li&gt;é™ä½è·¨åŸŸå¤æ‚æ€§&lt;/li&gt;&#xA;&lt;li&gt;æå‡æ€§èƒ½&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-nginx-å¦‚ä½•å·¥ä½œåå‘ä»£ç†è¯·æ±‚æµ&#34;&#xA;    &gt;&#xA;        2. Nginx å¦‚ä½•å·¥ä½œï¼ˆåå‘ä»£ç†è¯·æ±‚æµï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/reverse-proxy-core/#2-nginx-å¦‚ä½•å·¥ä½œåå‘ä»£ç†è¯·æ±‚æµ&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. Nginx å¦‚ä½•å·¥ä½œï¼ˆåå‘ä»£ç†è¯·æ±‚æµï¼‰&#34; aria-label=&#34;Anchor to: 2. Nginx å¦‚ä½•å·¥ä½œï¼ˆåå‘ä»£ç†è¯·æ±‚æµï¼‰&#34; href=&#34;#2-nginx-%e5%a6%82%e4%bd%95%e5%b7%a5%e4%bd%9c%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e8%af%b7%e6%b1%82%e6%b5%81&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;ä¸‹é¢æ˜¯æœ€æ ¸å¿ƒçš„å…³é”®ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx æ€§èƒ½è°ƒä¼˜æŒ‡å—</title>
      <link>https://documents.v2ep.com/operations/nginx/performance/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/performance/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ çœŸæ­£å¯è½åœ°çš„ã€ŠNginx æ€§èƒ½è°ƒä¼˜æŒ‡å—ï¼ˆCPU/å†…å­˜è‡ªé€‚åº”ç‰ˆï¼‰ã€‹ï¼Œå†…å®¹æ¶µç›–&#xA;CPUã€è‡ªé€‚åº” workerã€å†…å­˜ã€è‡ªé€‚åº” bufferã€è¿æ¥æ•°ã€ç½‘ç»œæ ˆã€æ–‡ä»¶ç¼“å­˜ã€åå‘ä»£ç†ä¼˜åŒ–ã€SSL/HTTP2 ä¼˜åŒ–ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å†…å®¹éå¸¸å®æˆ˜ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼ˆ2C2G ~ 64C256G éƒ½èƒ½ç”¨ï¼‰ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-æ ¸å¿ƒç†å¿µå¿…é¡»å…ˆç†è§£&#34;&#xA;    &gt;&#xA;        1. æ ¸å¿ƒç†å¿µï¼ˆå¿…é¡»å…ˆç†è§£ï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/performance/#1-æ ¸å¿ƒç†å¿µå¿…é¡»å…ˆç†è§£&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. æ ¸å¿ƒç†å¿µï¼ˆå¿…é¡»å…ˆç†è§£ï¼‰&#34; aria-label=&#34;Anchor to: 1. æ ¸å¿ƒç†å¿µï¼ˆå¿…é¡»å…ˆç†è§£ï¼‰&#34; href=&#34;#1-%e6%a0%b8%e5%bf%83%e7%90%86%e5%bf%b5%e5%bf%85%e9%a1%bb%e5%85%88%e7%90%86%e8%a7%a3&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;Nginx çš„æ€§èƒ½ä¸»è¦ä¾èµ–å››ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;éƒ¨åˆ†&lt;/th&gt;&#xA;          &lt;th&gt;å½±å“å› ç´ &lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;worker æ•°é‡&lt;/td&gt;&#xA;          &lt;td&gt;CPU æ ¸å¿ƒæ•°&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;worker_connections&lt;/td&gt;&#xA;          &lt;td&gt;æ–‡ä»¶æè¿°ç¬¦é™åˆ¶ã€ç³»ç»Ÿ ulimit&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;buffer å¤§å°&lt;/td&gt;&#xA;          &lt;td&gt;å†…å­˜å¤§å°&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;upstream keepalive æ•°é‡&lt;/td&gt;&#xA;          &lt;td&gt;å¹¶å‘è¯·æ±‚æ•°&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;ç½‘ç»œä¼˜åŒ–&lt;/td&gt;&#xA;          &lt;td&gt;TCP å‚æ•°ã€epollã€é˜Ÿåˆ—&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;æ‰€ä»¥æ‰€æœ‰è°ƒä¼˜å¿…é¡»å›´ç»• CPU Ã— è¿æ¥æ•° Ã— å†…å­˜ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-cpu-è‡ªé€‚åº”é…ç½®&#34;&#xA;    &gt;&#xA;        2. CPU è‡ªé€‚åº”é…ç½®&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/performance/#2-cpu-è‡ªé€‚åº”é…ç½®&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. CPU è‡ªé€‚åº”é…ç½®&#34; aria-label=&#34;Anchor to: 2. CPU è‡ªé€‚åº”é…ç½®&#34; href=&#34;#2-cpu-%e8%87%aa%e9%80%82%e5%ba%94%e9%85%8d%e7%bd%ae&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;&lt;strong&gt;worker æ•°é‡ï¼ˆautoï¼‰&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx æ•…éšœæ’æŸ¥</title>
      <link>https://documents.v2ep.com/operations/nginx/troubleshooting/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/troubleshooting/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ ç”Ÿäº§çº§ã€ŠNginx æ•…éšœæ’æŸ¥æŒ‡å—ã€‹ï¼Œä»æ—¥å¿—ã€å‘½ä»¤ã€è¿›ç¨‹ã€upstreamã€åä»£ã€SSLã€å‰ç«¯é™æ€æ–‡ä»¶ã€æ€§èƒ½ã€è¿æ¥ã€è¶…æ—¶ç­‰å…¨é“¾è·¯æ’æŸ¥ã€‚&#xA;è¿™æ˜¯ä¼ä¸šçœŸæ­£ä½¿ç”¨çš„æ’æŸ¥æ–¹å¼ï¼Œä¸€æ­¥æ­¥æŒ‰è¿™ä¸ªæŸ¥ï¼Œå¿«é€Ÿå®šä½ 99% çš„ Nginx æ•…éšœã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;-nginx-æ•…éšœæ’æŸ¥æ€»çº²é»„é‡‘-7-æ­¥&#34;&#xA;    &gt;&#xA;        ğŸš¨ Nginx æ•…éšœæ’æŸ¥æ€»çº²ï¼ˆé»„é‡‘ 7 æ­¥ï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/troubleshooting/#-nginx-æ•…éšœæ’æŸ¥æ€»çº²é»„é‡‘-7-æ­¥&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ğŸš¨ Nginx æ•…éšœæ’æŸ¥æ€»çº²ï¼ˆé»„é‡‘ 7 æ­¥ï¼‰&#34; aria-label=&#34;Anchor to: ğŸš¨ Nginx æ•…éšœæ’æŸ¥æ€»çº²ï¼ˆé»„é‡‘ 7 æ­¥ï¼‰&#34; href=&#34;#-nginx-%e6%95%85%e9%9a%9c%e6%8e%92%e6%9f%a5%e6%80%bb%e7%ba%b2%e9%bb%84%e9%87%91-7-%e6%ad%a5&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;æ£€æŸ¥é…ç½®è¯­æ³•æ˜¯å¦æœ‰é”™&lt;/li&gt;&#xA;&lt;li&gt;æ£€æŸ¥ Nginx æ˜¯å¦å¯åŠ¨ã€ç«¯å£æ˜¯å¦ç›‘å¬&lt;/li&gt;&#xA;&lt;li&gt;æŸ¥çœ‹ error.logï¼ˆæœ€å…³é”®ï¼‰&lt;/li&gt;&#xA;&lt;li&gt;æ£€æŸ¥ upstream æœåŠ¡æ˜¯å¦å¯è®¿é—®&lt;/li&gt;&#xA;&lt;li&gt;æ£€æŸ¥è®¿é—®è·¯å¾„æ˜¯å¦åŒ¹é…æ­£ç¡®çš„ location&lt;/li&gt;&#xA;&lt;li&gt;ç¡®å®šåå‘ä»£ç†æ˜¯å¦èµ°äº†æ­£ç¡®çš„ target &amp;amp; header&lt;/li&gt;&#xA;&lt;li&gt;æ£€æŸ¥ç³»ç»Ÿå±‚ç½‘ç»œ/é˜²ç«å¢™/SElinux&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;æ— è®ºä½ çš„ Nginx æ˜¯åå‘ä»£ç†ã€é™æ€èµ„æºã€HTTPSã€HTTP/2ã€å‰ç«¯é¡¹ç›®ï¼Œéƒ½å¯ä»¥ä¾ç…§è¿™å¥—æµç¨‹æ’æŸ¥ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;-1-æ£€æŸ¥-nginx-é…ç½®æ˜¯å¦æ­£ç¡®&#34;&#xA;    &gt;&#xA;        ğŸ§± 1. æ£€æŸ¥ Nginx é…ç½®æ˜¯å¦æ­£ç¡®&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/troubleshooting/#-1-æ£€æŸ¥-nginx-é…ç½®æ˜¯å¦æ­£ç¡®&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ğŸ§± 1. æ£€æŸ¥ Nginx é…ç½®æ˜¯å¦æ­£ç¡®&#34; aria-label=&#34;Anchor to: ğŸ§± 1. æ£€æŸ¥ Nginx é…ç½®æ˜¯å¦æ­£ç¡®&#34; href=&#34;#-1-%e6%a3%80%e6%9f%a5-nginx-%e9%85%8d%e7%bd%ae%e6%98%af%e5%90%a6%e6%ad%a3%e7%a1%ae&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nginx -t&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é”™è¯¯ç¤ºä¾‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx æœ€ä½³å®è·µ</title>
      <link>https://documents.v2ep.com/operations/nginx/best-practices/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/best-practices/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ çœŸæ­£èƒ½è½åœ°ã€è¦†ç›–æ¶æ„/é…ç½®/éƒ¨ç½²/ç›‘æ§/å®‰å…¨çš„ Nginx æœ€ä½³å®è·µå¤§å…¨ï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒï¼ˆåå‘ä»£ç† / é™æ€ç«™ç‚¹ / API ç½‘å…³åœºæ™¯ï¼‰ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-ç›®å½•ç»“æ„æœ€ä½³å®è·µ&#34;&#xA;    &gt;&#xA;        1. ç›®å½•ç»“æ„æœ€ä½³å®è·µ&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/best-practices/#1-ç›®å½•ç»“æ„æœ€ä½³å®è·µ&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. ç›®å½•ç»“æ„æœ€ä½³å®è·µ&#34; aria-label=&#34;Anchor to: 1. ç›®å½•ç»“æ„æœ€ä½³å®è·µ&#34; href=&#34;#1-%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/nginx/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”œâ”€â”€ nginx.conf               # ä¸»é…ç½®&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”œâ”€â”€ conf.d/                  # å„æœåŠ¡ç‹¬ç«‹é…ç½®&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚   â”œâ”€â”€ api.conf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚   â”œâ”€â”€ web.conf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚   â””â”€â”€ ssl.conf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”œâ”€â”€ mime.types&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”œâ”€â”€ modules-enabled/         # åŠ¨æ€æ¨¡å—&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â””â”€â”€ snippets/                # å…¬ç”¨ç‰‡æ®µï¼ˆä¾‹å¦‚ SSLã€proxyï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;ä¸æ¨è&lt;/strong&gt;æŠŠæ‰€æœ‰é…ç½®å †åœ¨ nginx.conf&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;æ¨è&lt;/strong&gt;æŒ‰åº”ç”¨æ‹†åˆ†ï¼Œä¿è¯å¯ç»´æŠ¤æ€§ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-æ ¸å¿ƒé…ç½®æœ€ä½³å®è·µnginxconf&#34;&#xA;    &gt;&#xA;        2. æ ¸å¿ƒé…ç½®æœ€ä½³å®è·µï¼ˆnginx.confï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/best-practices/#2-æ ¸å¿ƒé…ç½®æœ€ä½³å®è·µnginxconf&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. æ ¸å¿ƒé…ç½®æœ€ä½³å®è·µï¼ˆnginx.confï¼‰&#34; aria-label=&#34;Anchor to: 2. æ ¸å¿ƒé…ç½®æœ€ä½³å®è·µï¼ˆnginx.confï¼‰&#34; href=&#34;#2-%e6%a0%b8%e5%bf%83%e9%85%8d%e7%bd%ae%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5nginxconf&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;&lt;strong&gt;worker é…ç½®ï¼ˆè‡ªé€‚åº” CPUï¼‰&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx æ³¨æ„äº‹é¡¹</title>
      <link>https://documents.v2ep.com/operations/nginx/things-to-note/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/things-to-note/</guid>
      <description>&lt;p&gt;ä¸‹é¢ç»™ä½ ä¸€ä»½ çœŸæ­£å®ç”¨ã€ç”Ÿäº§ç¯å¢ƒçº§åˆ«çš„ã€ŠNginx æ³¨æ„äº‹é¡¹å¤§å…¨ã€‹ï¼Œæ¶µç›–å®‰å…¨ã€æ€§èƒ½ã€éƒ¨ç½²ã€åä»£ã€é™æ€ç«™ç‚¹ã€HTTP2ã€HTTPSã€æ—¥å¿—ã€ç³»ç»Ÿå±‚ã€é™æµã€ç¼“å­˜ç­‰å…³é”®ç‚¹ã€‚&#xA;éå¸¸é€‚åˆä½œä¸º Nginx é¡¹ç›®ä¸Šçº¿ Checklistã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-åŸºç¡€æ¦‚å¿µéƒ¨åˆ†&#34;&#xA;    &gt;&#xA;        1. åŸºç¡€æ¦‚å¿µéƒ¨åˆ†&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/things-to-note/#1-åŸºç¡€æ¦‚å¿µéƒ¨åˆ†&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. åŸºç¡€æ¦‚å¿µéƒ¨åˆ†&#34; aria-label=&#34;Anchor to: 1. åŸºç¡€æ¦‚å¿µéƒ¨åˆ†&#34; href=&#34;#1-%e5%9f%ba%e7%a1%80%e6%a6%82%e5%bf%b5%e9%83%a8%e5%88%86&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;nginx-æ˜¯äº‹ä»¶é©±åŠ¨çš„worker-æ•°é‡ä¸-cpu-ç»‘å®šä¸è¦ä¹±æ”¹&#34;&#xA;    &gt;&#xA;        Nginx æ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œworker æ•°é‡ä¸ CPU ç»‘å®šï¼ˆä¸è¦ä¹±æ”¹ï¼‰&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/things-to-note/#nginx-æ˜¯äº‹ä»¶é©±åŠ¨çš„worker-æ•°é‡ä¸-cpu-ç»‘å®šä¸è¦ä¹±æ”¹&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: Nginx æ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œworker æ•°é‡ä¸ CPU ç»‘å®šï¼ˆä¸è¦ä¹±æ”¹ï¼‰&#34; aria-label=&#34;Anchor to: Nginx æ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œworker æ•°é‡ä¸ CPU ç»‘å®šï¼ˆä¸è¦ä¹±æ”¹ï¼‰&#34; href=&#34;#nginx-%e6%98%af%e4%ba%8b%e4%bb%b6%e9%a9%b1%e5%8a%a8%e7%9a%84worker-%e6%95%b0%e9%87%8f%e4%b8%8e-cpu-%e7%bb%91%e5%ae%9a%e4%b8%8d%e8%a6%81%e4%b9%b1%e6%94%b9&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;worker_processes auto;&lt;/li&gt;&#xA;&lt;li&gt;CPU=2 å°± 2 workerï¼›CPU=16 å°± 16 workerã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;worker_connections-å†³å®šæœ€å¤§å¹¶å‘&#34;&#xA;    &gt;&#xA;        worker_connections å†³å®šæœ€å¤§å¹¶å‘&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/things-to-note/#worker_connections-å†³å®šæœ€å¤§å¹¶å‘&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: worker_connections å†³å®šæœ€å¤§å¹¶å‘&#34; aria-label=&#34;Anchor to: worker_connections å†³å®šæœ€å¤§å¹¶å‘&#34; href=&#34;#worker_connections-%e5%86%b3%e5%ae%9a%e6%9c%80%e5%a4%a7%e5%b9%b6%e5%8f%91&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;æœ€å¤§å¹¶å‘ â‰ˆ worker_processes Ã— worker_connections&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx ç”Ÿäº§çº§ nginx.conf</title>
      <link>https://documents.v2ep.com/operations/nginx/config/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/config/</guid>
      <description>&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;ç”Ÿäº§çº§-nginxconf&#34;&#xA;    &gt;&#xA;        ç”Ÿäº§çº§ nginx.conf&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/config/#ç”Ÿäº§çº§-nginxconf&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ç”Ÿäº§çº§ nginx.conf&#34; aria-label=&#34;Anchor to: ç”Ÿäº§çº§ nginx.conf&#34; href=&#34;#%e7%94%9f%e4%ba%a7%e7%ba%a7-nginxconf&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ç”Ÿäº§çº§ nginx.conf æ¨¡æ¿ï¼ŒåŒ…å« HTTP-&amp;gt;HTTPS å¼ºåˆ¶è·³è½¬ã€HTTP/2ã€SSLï¼ˆç°ä»£å®‰å…¨é…ç½®ï¼‰ã€æ€§èƒ½ä¼˜åŒ–ï¼ˆworkerã€è¿æ¥ã€ç¼“å†²ã€gzipã€keepaliveã€upstream keepaliveï¼‰ã€å®‰å…¨æ€§ï¼ˆHSTSã€OCSPã€sessionï¼‰ä»¥åŠå¸¸ç”¨ proxy/fastcgi è®¾ç½®ã€‚é…ç½®é‡Œå¸¦æ³¨é‡Šï¼ŒæŒ‰éœ€æ›¿æ¢è¯ä¹¦è·¯å¾„ã€åŸŸåå’Œä¸Šæ¸¸æœåŠ¡åœ°å€ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ³¨æ„ï¼šä¸åŒ Nginx ç‰ˆæœ¬åœ¨å¯ç”¨ HTTP/2 çš„è¯­æ³•ä¸Šå¯èƒ½ç•¥æœ‰å·®åˆ«ï¼ˆhttp2;ã€http2 on; æˆ– listen &amp;hellip; http2;ï¼‰ã€‚æˆ‘åœ¨ç¤ºä¾‹ä¸­ä½¿ç”¨é€šç”¨å†™æ³• listen 443 ssl; + http2;ï¼Œå¦‚æœä½ å½“å‰ç‰ˆæœ¬æŠ¥è¯­æ³•é”™è¯¯ï¼ŒæŒ‰ä½ ç¯å¢ƒæ”¹ä¸º http2 on; æˆ– listen 443 ssl http2; å³å¯ï¼ˆåœ¨æ³¨é‡Šå¤„æ ‡æ˜ï¼‰ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /etc/nginx/nginx.conf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;user&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;nginx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;worker_processes&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;auto&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;                &lt;span class=&#34;c1&#34;&gt;# æ¨è autoï¼Œæ ¹æ® CPU æ ¸å¿ƒæ•°è‡ªåŠ¨è®¾ç½®&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;worker_rlimit_nofile&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;65535&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;error_log&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;/var/log/nginx/error.log&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;warn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;pid&lt;/span&gt;        &lt;span class=&#34;s&#34;&gt;/var/run/nginx.pid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;events&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;epoll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;worker_connections&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;4096&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;         &lt;span class=&#34;c1&#34;&gt;# æ¯ worker çš„æœ€å¤§è¿æ¥æ•°ï¼ˆå¯æŒ‰éœ€è°ƒæ•´ï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;multi_accept&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;accept_mutex&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;http&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# åŸºç¡€&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;include&lt;/span&gt;       &lt;span class=&#34;s&#34;&gt;mime.types&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;default_type&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;application/octet-stream&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;sendfile&lt;/span&gt;        &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;tcp_nopush&lt;/span&gt;      &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;tcp_nodelay&lt;/span&gt;     &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;keepalive_timeout&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;65s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;types_hash_max_size&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2048&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;server_tokens&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# æ—¥å¿—æ ¼å¼&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;log_format&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;main&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$remote_addr&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$remote_user&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$time_local]&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$request&amp;#34;&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$status&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$body_bytes_sent&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$http_referer&amp;#34;&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;s&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$http_user_agent&amp;#34;&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$http_x_forwarded_for&amp;#34;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;access_log&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;/var/log/nginx/access.log&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# ç¼“å†²ä¸è¯·æ±‚é™åˆ¶ï¼ˆå¯é’ˆå¯¹ 2G å†…å­˜/åŒæ ¸é€‚å½“ä¸‹è°ƒï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;client_max_body_size&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;client_body_buffer_size&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;64k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;client_header_buffer_size&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;large_client_header_buffers&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;16k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;client_body_timeout&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;20s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;client_header_timeout&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;20s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;send_timeout&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;20s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Gzip å‹ç¼©&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;gzip&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;gzip_http_version&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;gzip_comp_level&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;gzip_min_length&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;gzip_proxied&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;gzip_vary&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;gzip_types&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;text/plain&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;text/css&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;application/json&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;application/javascript&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;text/xml&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;application/xml&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;application/xml+rss&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;text/javascript&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# SSL ä¼˜åŒ–ï¼ˆæ›¿æ¢ä¸ºä½ çš„è¯ä¹¦ï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;ssl_session_cache&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;shared:SSL:50m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;ssl_session_timeout&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;ssl_session_tickets&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# æ¨èçš„å®‰å…¨åè®®ä¸å¯†ç å¥—ä»¶ï¼ˆæ”¯æŒ TLS1.2/1.3ï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;ssl_protocols&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;TLSv1.2&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;TLSv1.3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# å¯¹äº TLS1.3ï¼ŒCipher é…ç½®ç”± OpenSSL æ§åˆ¶ï¼›ä¸‹é¢ä¸º TLS1.2 ciphers&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;ssl_ciphers&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s&#34;&gt;&amp;#39;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s&#34;&gt;&amp;#39;ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;ssl_prefer_server_ciphers&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# OCSP Staplingï¼ˆå¯ç”¨åéœ€è¦æ­£ç¡®çš„ ssl_trusted_certificateï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;resolver&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1.1.1.1&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;8.8.8.8&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;valid=300s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;resolver_timeout&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;5s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# å®‰å…¨å¤´ï¼ˆå¯æŒ‰éœ€æ‰“å¼€/ä¿®æ”¹ï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;add_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;X-Frame-Options&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;SAMEORIGIN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;add_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;X-Content-Type-Options&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;nosniff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;add_header&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;X-XSS-Protection&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;mode=block&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Limit / rate limiting&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# æ¯ä¸ª IP å…è®¸çš„å¹¶å‘è¯·æ±‚æ•°ä¸é€Ÿç‡æ§åˆ¶ï¼ˆæŒ‰éœ€è°ƒæ•´ï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;limit_conn_zone&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$binary_remote_addr&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;zone=addr:10m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;limit_req_zone&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$binary_remote_addr&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;zone=req_zone:10m&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;rate=10r/s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Upstream å¸¸ç”¨ç¤ºä¾‹ï¼ˆæ·»åŠ  keepaliveï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;upstream&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;app_backend&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;server&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;127.0.0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8000&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;max_fails=3&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;fail_timeout=30s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;server&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;127.0.0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8001&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;max_fails=3&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;fail_timeout=30s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;keepalive&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Proxy é»˜è®¤è®¾ç½®ï¼ˆå¯ include åˆ° conf.d/proxy.confï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;map&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$http_upgrade&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$connection_upgrade&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;upgrade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;      &lt;span class=&#34;s&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# include ç«™ç‚¹ä¸é¢å¤–é…ç½®&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kn&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;/etc/nginx/conf.d/*.conf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼šç”Ÿäº§çº§ serverï¼ˆHTTP-&amp;gt;HTTPSã€HTTP/2ã€SSLã€Proxyï¼‰&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx è´Ÿè½½å‡è¡¡æœ€ä½³å®è·µ</title>
      <link>https://documents.v2ep.com/operations/nginx/upstream-best-practices/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/upstream-best-practices/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ çœŸæ­£é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒã€ç®€æ´ä½†ä¸“ä¸šã€å¯ç›´æ¥è½åœ°çš„ã€ŠNginx è´Ÿè½½å‡è¡¡æœ€ä½³å®è·µã€‹ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å†…å®¹å…¨æ˜¯ä¼ä¸šçœŸå®ç»éªŒæ€»ç»“ï¼Œæ³¨æ„äº‹é¡¹ã€å‘ç‚¹ã€è°ƒä¼˜éƒ½æœ‰ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-æ˜ç¡®ç›®æ ‡é«˜å¯ç”¨é«˜æ€§èƒ½å¯æ‰©å±•&#34;&#xA;    &gt;&#xA;        1. æ˜ç¡®ç›®æ ‡ï¼šé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€å¯æ‰©å±•&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/upstream-best-practices/#1-æ˜ç¡®ç›®æ ‡é«˜å¯ç”¨é«˜æ€§èƒ½å¯æ‰©å±•&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. æ˜ç¡®ç›®æ ‡ï¼šé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€å¯æ‰©å±•&#34; aria-label=&#34;Anchor to: 1. æ˜ç¡®ç›®æ ‡ï¼šé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€å¯æ‰©å±•&#34; href=&#34;#1-%e6%98%8e%e7%a1%ae%e7%9b%ae%e6%a0%87%e9%ab%98%e5%8f%af%e7%94%a8%e9%ab%98%e6%80%a7%e8%83%bd%e5%8f%af%e6%89%a9%e5%b1%95&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;è´Ÿè½½å‡è¡¡çš„æ ¸å¿ƒç›®çš„ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;åˆ†æ‘Šæµé‡ï¼Œé¿å…å•æœºç“¶é¢ˆ&lt;/li&gt;&#xA;&lt;li&gt;é¿å…é›ªå´©æ•ˆåº”ï¼ˆä¸€ä¸ªèŠ‚ç‚¹æŒ‚æ‰å¯¼è‡´å…¨éƒ¨å¡æ­»ï¼‰&lt;/li&gt;&#xA;&lt;li&gt;ä¿è¯æœåŠ¡å¯æ‰©å±•&lt;/li&gt;&#xA;&lt;li&gt;æå‡ååä¸ç¨³å®šæ€§&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;**åŠ¡å¿…è®°ä½ï¼š**LB ä¸åªæ˜¯ç®€å•è½®è¯¢ï¼Œå®ƒæ˜¯æ•´ä¸ªæœåŠ¡ç¨³å®šæ€§çš„æ ¸å¿ƒç»„ä»¶ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-upstream-æœ€ä½³ç»“æ„keepalive--health-check--retry&#34;&#xA;    &gt;&#xA;        2. Upstream æœ€ä½³ç»“æ„ï¼ˆkeepalive + health check + retryï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/upstream-best-practices/#2-upstream-æœ€ä½³ç»“æ„keepalive--health-check--retry&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. Upstream æœ€ä½³ç»“æ„ï¼ˆkeepalive &amp;#43; health check &amp;#43; retryï¼‰&#34; aria-label=&#34;Anchor to: 2. Upstream æœ€ä½³ç»“æ„ï¼ˆkeepalive &amp;#43; health check &amp;#43; retryï¼‰&#34; href=&#34;#2-upstream-%e6%9c%80%e4%bd%b3%e7%bb%93%e6%9e%84keepalive--health-check--retry&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;upstream&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;backend&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;least_conn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;server&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;10.0.0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8000&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;max_fails=3&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;fail_timeout=30s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;server&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;10.0.0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8000&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;max_fails=3&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;fail_timeout=30s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;keepalive&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# â­ å¿…å¼€ï¼šå‡å°‘åç«¯è¿æ¥å¼€é”€&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¨èç®—æ³•ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx è´Ÿè½½å‡è¡¡è¯¦è§£</title>
      <link>https://documents.v2ep.com/operations/nginx/upstream-core/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/upstream-core/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ çœŸæ­£ç”Ÿäº§å¯ç”¨ã€ä½“ç³»åŒ–ã€å¯ç›´æ¥è½åœ°çš„ã€ŠNginx è´Ÿè½½å‡è¡¡è¯¦è§£ã€‹ï¼Œä»åŸºç¡€ -&amp;gt; æœºåˆ¶ -&amp;gt; ç®—æ³• -&amp;gt; å¥åº·æ£€æŸ¥ -&amp;gt; ä¼šè¯ä¿æŒ -&amp;gt; æ€§èƒ½ä¼˜åŒ– -&amp;gt; å®æˆ˜é…ç½®ï¼Œå…¨éƒ¨è¦†ç›–ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Nginx çš„è´Ÿè½½å‡è¡¡ç”± &lt;strong&gt;upstream æ¨¡å—&lt;/strong&gt;é©±åŠ¨ï¼Œç”¨äºæŠŠå®¢æˆ·ç«¯è¯·æ±‚åˆ†å‘åˆ°åç«¯å¤šä¸ªæœåŠ¡èŠ‚ç‚¹ï¼ˆupstream serversï¼‰ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-è´Ÿè½½å‡è¡¡çš„åŸºæœ¬ç»“æ„&#34;&#xA;    &gt;&#xA;        1. è´Ÿè½½å‡è¡¡çš„åŸºæœ¬ç»“æ„&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/upstream-core/#1-è´Ÿè½½å‡è¡¡çš„åŸºæœ¬ç»“æ„&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. è´Ÿè½½å‡è¡¡çš„åŸºæœ¬ç»“æ„&#34; aria-label=&#34;Anchor to: 1. è´Ÿè½½å‡è¡¡çš„åŸºæœ¬ç»“æ„&#34; href=&#34;#1-%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e7%bb%93%e6%9e%84&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;http&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;upstream&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;backend&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;server&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;10.0.0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;server&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;10.0.0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;server&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;location&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;kn&#34;&gt;proxy_pass&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;http://backend&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-nginx-è´Ÿè½½å‡è¡¡ç®—æ³•4-ä¸ªæ ¸å¿ƒ--2-ä¸ªå¢å¼º&#34;&#xA;    &gt;&#xA;        2. Nginx è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆ4 ä¸ªæ ¸å¿ƒ + 2 ä¸ªå¢å¼ºï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/upstream-core/#2-nginx-è´Ÿè½½å‡è¡¡ç®—æ³•4-ä¸ªæ ¸å¿ƒ--2-ä¸ªå¢å¼º&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. Nginx è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆ4 ä¸ªæ ¸å¿ƒ &amp;#43; 2 ä¸ªå¢å¼ºï¼‰&#34; aria-label=&#34;Anchor to: 2. Nginx è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆ4 ä¸ªæ ¸å¿ƒ &amp;#43; 2 ä¸ªå¢å¼ºï¼‰&#34; href=&#34;#2-nginx-%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1%e7%ae%97%e6%b3%954-%e4%b8%aa%e6%a0%b8%e5%bf%83--2-%e4%b8%aa%e5%a2%9e%e5%bc%ba&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;21-round_robiné»˜è®¤&#34;&#xA;    &gt;&#xA;        2.1 round_robinï¼ˆé»˜è®¤ï¼‰&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/upstream-core/#21-round_robiné»˜è®¤&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2.1 round_robinï¼ˆé»˜è®¤ï¼‰&#34; aria-label=&#34;Anchor to: 2.1 round_robinï¼ˆé»˜è®¤ï¼‰&#34; href=&#34;#21-round_robin%e9%bb%98%e8%ae%a4&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;è½®è¯¢ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx é«˜å¹¶å‘ä¼˜åŒ–æ–¹æ¡ˆ</title>
      <link>https://documents.v2ep.com/operations/nginx/high-concurrency/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/nginx/high-concurrency/</guid>
      <description>&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä»½ çœŸæ­£èƒ½è½åœ°çš„ã€ŠNginx é«˜å¹¶å‘ä¼˜åŒ–æ–¹æ¡ˆï¼ˆç”Ÿäº§çº§ï¼‰ã€‹ï¼Œä¸æ˜¯ç©ºæ´ç†è®ºï¼Œæ˜¯åœ¨é«˜ QPSã€æµ·é‡è¿æ¥æ—¶å¿…é¡»åšçš„è°ƒä¼˜ç‚¹ã€‚&lt;/p&gt;&#xA;&lt;p&gt;â­ æ€»ä½“ç›®æ ‡&lt;/p&gt;&#xA;&lt;p&gt;è®© Nginx åœ¨é«˜å¹¶å‘ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;æ›´å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/li&gt;&#xA;&lt;li&gt;æ›´å°‘è¿æ¥é˜»å¡&lt;/li&gt;&#xA;&lt;li&gt;æ›´é«˜ååé‡&lt;/li&gt;&#xA;&lt;li&gt;æ›´ä½å»¶è¿Ÿ&lt;/li&gt;&#xA;&lt;li&gt;æ›´èŠ‚çœ CPU/å†…å­˜&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ä»¥ä¸‹ä¼˜åŒ–é¡¹å…¨éƒ¨ç»å®æˆ˜éªŒè¯ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;1-è¿›ç¨‹æ•°ä¼˜åŒ–worker_processes&#34;&#xA;    &gt;&#xA;        1. è¿›ç¨‹æ•°ä¼˜åŒ–ï¼ˆworker_processesï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/high-concurrency/#1-è¿›ç¨‹æ•°ä¼˜åŒ–worker_processes&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. è¿›ç¨‹æ•°ä¼˜åŒ–ï¼ˆworker_processesï¼‰&#34; aria-label=&#34;Anchor to: 1. è¿›ç¨‹æ•°ä¼˜åŒ–ï¼ˆworker_processesï¼‰&#34; href=&#34;#1-%e8%bf%9b%e7%a8%8b%e6%95%b0%e4%bc%98%e5%8c%96worker_processes&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;&lt;strong&gt;æœ€ä½³å®è·µï¼šç­‰äº CPU æ ¸å¿ƒæ•°&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;worker_processes&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;auto&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nginx æ¯ä¸ª worker å•çº¿ç¨‹ + äº‹ä»¶é©±åŠ¨&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;1 worker å¯¹ 1 æ ¸å¿ƒæ•ˆç‡æœ€é«˜ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;2-è¿æ¥æ•°ä¼˜åŒ–worker_connections&#34;&#xA;    &gt;&#xA;        2. è¿æ¥æ•°ä¼˜åŒ–ï¼ˆworker_connectionsï¼‰&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/nginx/high-concurrency/#2-è¿æ¥æ•°ä¼˜åŒ–worker_connections&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. è¿æ¥æ•°ä¼˜åŒ–ï¼ˆworker_connectionsï¼‰&#34; aria-label=&#34;Anchor to: 2. è¿æ¥æ•°ä¼˜åŒ–ï¼ˆworker_connectionsï¼‰&#34; href=&#34;#2-%e8%bf%9e%e6%8e%a5%e6%95%b0%e4%bc%98%e5%8c%96worker_connections&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;é»˜è®¤ 1024 è¿œè¿œä¸å¤Ÿï¼Œå¹¶å‘é«˜æ—¶ç›´æ¥çˆ†ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
