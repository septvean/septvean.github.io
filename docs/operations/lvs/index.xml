<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>LVS on Documents</title>
    <link>https://docs.v2ep.com/operations/lvs/</link>
    <description>Recent content in LVS on Documents</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <atom:link href="https://docs.v2ep.com/operations/lvs/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>LVS FAQ</title>
      <link>https://docs.v2ep.com/operations/lvs/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://docs.v2ep.com/operations/lvs/faq/</guid>
      <description>&lt;p&gt;内容：基础、原理、架构、排错、与 Nginx/HAProxy 对比、LVS 内核机制、Keepalived 相关等。&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;一基础概念类&#34;&#xA;    &gt;&#xA;        一、基础概念类&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/faq/#一基础概念类&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 一、基础概念类&#34; aria-label=&#34;Anchor to: 一、基础概念类&#34; href=&#34;#%e4%b8%80%e5%9f%ba%e7%a1%80%e6%a6%82%e5%bf%b5%e7%b1%bb&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;1-什么是-lvs它的作用是什么&#34;&#xA;    &gt;&#xA;        1. 什么是 LVS？它的作用是什么？&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/faq/#1-什么是-lvs它的作用是什么&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. 什么是 LVS？它的作用是什么？&#34; aria-label=&#34;Anchor to: 1. 什么是 LVS？它的作用是什么？&#34; href=&#34;#1-%e4%bb%80%e4%b9%88%e6%98%af-lvs%e5%ae%83%e7%9a%84%e4%bd%9c%e7%94%a8%e6%98%af%e4%bb%80%e4%b9%88&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;LVS（Linux Virtual Server）是内核级四层负载均衡框架。&lt;/p&gt;&#xA;&lt;p&gt;作用：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;提供高并发、高性能、低延迟的负载均衡&lt;/li&gt;&#xA;&lt;li&gt;支持 TCP/UDP 四层协议&lt;/li&gt;&#xA;&lt;li&gt;通常配合 Keepalived 做主备 HA&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;优点：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;内核转发 -&amp;gt; 性能极高&lt;/li&gt;&#xA;&lt;li&gt;架构简单，稳定可靠&lt;/li&gt;&#xA;&lt;li&gt;适合大规模业务&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;2-lvs-的三种工作模式是什么区别是什么&#34;&#xA;    &gt;&#xA;        2. LVS 的三种工作模式是什么？区别是什么？&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/faq/#2-lvs-的三种工作模式是什么区别是什么&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. LVS 的三种工作模式是什么？区别是什么？&#34; aria-label=&#34;Anchor to: 2. LVS 的三种工作模式是什么？区别是什么？&#34; href=&#34;#2-lvs-%e7%9a%84%e4%b8%89%e7%a7%8d%e5%b7%a5%e4%bd%9c%e6%a8%a1%e5%bc%8f%e6%98%af%e4%bb%80%e4%b9%88%e5%8c%ba%e5%88%ab%e6%98%af%e4%bb%80%e4%b9%88&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h4 id=&#34;-lvs-nat修改源目标地址&#34;&#xA;    &gt;&#xA;        ① LVS-NAT（修改源/目标地址）&#xA;    &lt;/h4&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/faq/#-lvs-nat修改源目标地址&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ① LVS-NAT（修改源/目标地址）&#34; aria-label=&#34;Anchor to: ① LVS-NAT（修改源/目标地址）&#34; href=&#34;#-lvs-nat%e4%bf%ae%e6%94%b9%e6%ba%90%e7%9b%ae%e6%a0%87%e5%9c%b0%e5%9d%80&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;请求和响应都经过 Director（瓶颈）&lt;/li&gt;&#xA;&lt;li&gt;RS 默认路由指向 Director&lt;/li&gt;&#xA;&lt;li&gt;支持任意 OS&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h4 id=&#34;-lvs-dr直接路由---生产最常用&#34;&#xA;    &gt;&#xA;        ② LVS-DR（直接路由） &amp;lt;- 生产最常用&#xA;    &lt;/h4&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/faq/#-lvs-dr直接路由---生产最常用&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ② LVS-DR（直接路由） &amp;lt;- 生产最常用&#34; aria-label=&#34;Anchor to: ② LVS-DR（直接路由） &amp;lt;- 生产最常用&#34; href=&#34;#-lvs-dr%e7%9b%b4%e6%8e%a5%e8%b7%af%e7%94%b1---%e7%94%9f%e4%ba%a7%e6%9c%80%e5%b8%b8%e7%94%a8&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Director 只收请求&lt;/li&gt;&#xA;&lt;li&gt;RS 直接回包给客户端&lt;/li&gt;&#xA;&lt;li&gt;RS 必须与 Director 在同一二层网络&lt;/li&gt;&#xA;&lt;li&gt;需要关闭 ARP 抢答&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h4 id=&#34;-lvs-tunip-隧道&#34;&#xA;    &gt;&#xA;        ③ LVS-TUN（IP 隧道）&#xA;    &lt;/h4&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/faq/#-lvs-tunip-隧道&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ③ LVS-TUN（IP 隧道）&#34; aria-label=&#34;Anchor to: ③ LVS-TUN（IP 隧道）&#34; href=&#34;#-lvs-tunip-%e9%9a%a7%e9%81%93&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;用 IPIP 隧道转发请求&lt;/li&gt;&#xA;&lt;li&gt;RS 可跨机房&lt;/li&gt;&#xA;&lt;li&gt;RS 回包不经过 Director&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;3-lvs-优点和缺点分别是什么&#34;&#xA;    &gt;&#xA;        3. LVS 优点和缺点分别是什么？&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/faq/#3-lvs-优点和缺点分别是什么&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 3. LVS 优点和缺点分别是什么？&#34; aria-label=&#34;Anchor to: 3. LVS 优点和缺点分别是什么？&#34; href=&#34;#3-lvs-%e4%bc%98%e7%82%b9%e5%92%8c%e7%bc%ba%e7%82%b9%e5%88%86%e5%88%ab%e6%98%af%e4%bb%80%e4%b9%88&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;优点：&lt;/p&gt;</description>
    </item>
    <item>
      <title>LVS 基础教程</title>
      <link>https://docs.v2ep.com/operations/lvs/tutorial/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://docs.v2ep.com/operations/lvs/tutorial/</guid>
      <description>&lt;p&gt;内容：核心概念、三种模式、调度算法、实际架构、生产级配置、故障排查、最佳实践。&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;一lvs-是什么&#34;&#xA;    &gt;&#xA;        一、LVS 是什么？&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/tutorial/#一lvs-是什么&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 一、LVS 是什么？&#34; aria-label=&#34;Anchor to: 一、LVS 是什么？&#34; href=&#34;#%e4%b8%80lvs-%e6%98%af%e4%bb%80%e4%b9%88&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;LVS = Linux Virtual Server&lt;/p&gt;&#xA;&lt;p&gt;是 Linux 内核中的四层负载均衡框架，通过 &lt;strong&gt;虚拟 IP（VIP）+ 转发服务器（Director） + 后端 Real Server（RS&lt;/strong&gt;） 的方式提供高并发、高可用、低延迟的负载均衡。&lt;/p&gt;&#xA;&lt;p&gt;适用于：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Web 服务（Nginx、Tomcat、Flask 等）&lt;/li&gt;&#xA;&lt;li&gt;TCP 服务（Redis、MySQL、MQ）&lt;/li&gt;&#xA;&lt;li&gt;任意四层 TCP/UDP 服务&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;特点：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;四层转发 -&amp;gt; &lt;strong&gt;极高性能&lt;/strong&gt;（百万级并发）&lt;/li&gt;&#xA;&lt;li&gt;内核态转发 -&amp;gt; &lt;strong&gt;极低延迟&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;搭配 Keepalived -&amp;gt; &lt;strong&gt;自动故障切换（HA）&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;二lvs-的三种工作模式核心&#34;&#xA;    &gt;&#xA;        二、LVS 的三种工作模式（核心）&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/tutorial/#二lvs-的三种工作模式核心&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 二、LVS 的三种工作模式（核心）&#34; aria-label=&#34;Anchor to: 二、LVS 的三种工作模式（核心）&#34; href=&#34;#%e4%ba%8clvs-%e7%9a%84%e4%b8%89%e7%a7%8d%e5%b7%a5%e4%bd%9c%e6%a8%a1%e5%bc%8f%e6%a0%b8%e5%bf%83&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;1lvs-natnetwork-address-translation&#34;&#xA;    &gt;&#xA;        1）LVS-NAT（Network Address Translation）&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/tutorial/#1lvs-natnetwork-address-translation&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1）LVS-NAT（Network Address Translation）&#34; aria-label=&#34;Anchor to: 1）LVS-NAT（Network Address Translation）&#34; href=&#34;#1lvs-natnetwork-address-translation&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;原理：Director 修改报文的源/目的地址，转发给 RS。RS 的回复也回到 Director，再 NAT 回客户端。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Keepalived 基础教程</title>
      <link>https://docs.v2ep.com/operations/lvs/keepalived/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://docs.v2ep.com/operations/lvs/keepalived/</guid>
      <description>&lt;p&gt;内容：核心概念、工作机制、VRRP、LVS 配置、生产级示例、故障排查、最佳实践。&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;一keepalived-是什么&#34;&#xA;    &gt;&#xA;        一、Keepalived 是什么？&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/keepalived/#一keepalived-是什么&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 一、Keepalived 是什么？&#34; aria-label=&#34;Anchor to: 一、Keepalived 是什么？&#34; href=&#34;#%e4%b8%80keepalived-%e6%98%af%e4%bb%80%e4%b9%88&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;Keepalived 是一个提供 &lt;strong&gt;高可用（HA）+ 健康检查 + LVS 管理&lt;/strong&gt; 的服务，核心能力包括：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;VRRP（虚拟路由冗余协议）&lt;/strong&gt; -&amp;gt; 用于主备切换 / VIP 漂移&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;LVS Real Server 健康检查&lt;/strong&gt; -&amp;gt; 自动从 ipvsadm 中移除不健康的 RS&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;自动生成/维护 LVS&lt;/strong&gt; 规则&lt;/li&gt;&#xA;&lt;li&gt;跨多实例、多虚拟服务的 HA 管理&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Keepalived 主要两个核心组件：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;VRRP（VIP 漂移，实现高可用）&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;LVS（管理 ipvsadm 的负载均衡规则）&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;二keepalived-的运行模型&#34;&#xA;    &gt;&#xA;        二、Keepalived 的运行模型&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://docs.v2ep.com/operations/lvs/keepalived/#二keepalived-的运行模型&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 二、Keepalived 的运行模型&#34; aria-label=&#34;Anchor to: 二、Keepalived 的运行模型&#34; href=&#34;#%e4%ba%8ckeepalived-%e7%9a%84%e8%bf%90%e8%a1%8c%e6%a8%a1%e5%9e%8b&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;Keepalived = VRRP + LVS，二者独立且可以同时使用。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
