<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>KVM on ☘️ Septvean&#39;s Documents</title>
    <link>https://documents.v2ep.com/operations/kvm/</link>
    <description>Recent content in KVM on ☘️ Septvean&#39;s Documents</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <atom:link href="https://documents.v2ep.com/operations/kvm/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>KVM 核心概念</title>
      <link>https://documents.v2ep.com/operations/kvm/core/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/kvm/core/</guid>
      <description>&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;一kvm-是什么&#34;&#xA;    &gt;&#xA;        一、KVM 是什么&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/core/#一kvm-是什么&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 一、KVM 是什么&#34; aria-label=&#34;Anchor to: 一、KVM 是什么&#34; href=&#34;#%e4%b8%80kvm-%e6%98%af%e4%bb%80%e4%b9%88&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;&lt;strong&gt;KVM（Kernel-based Virtual Machine）是 Linux 内核中的虚拟化模块，把 Linux 本身变成一个 Type-1 Hypervisor。&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;关键点：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;不是独立程序&lt;/li&gt;&#xA;&lt;li&gt;是 &lt;strong&gt;内核模块&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;依赖 CPU 硬件虚拟化（VT-x / AMD-V）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;二kvm-的整体架构必须吃透&#34;&#xA;    &gt;&#xA;        二、KVM 的整体架构（必须吃透）&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/core/#二kvm-的整体架构必须吃透&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 二、KVM 的整体架构（必须吃透）&#34; aria-label=&#34;Anchor to: 二、KVM 的整体架构（必须吃透）&#34; href=&#34;#%e4%ba%8ckvm-%e7%9a%84%e6%95%b4%e4%bd%93%e6%9e%b6%e6%9e%84%e5%bf%85%e9%a1%bb%e5%90%83%e9%80%8f&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;硬件 (CPU / Memory / NIC / Disk)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; └── Linux Kernel&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ├── KVM 模块（kvm.ko / kvm_intel.ko / kvm_amd.ko）&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ├── 内存管理 / 调度 / NUMA&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      └── QEMU（用户态进程）&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;           └── 虚拟机（Guest OS）&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;各组件职责&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>KVM 虚拟机操作命令</title>
      <link>https://documents.v2ep.com/operations/kvm/kvm-command/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/kvm/kvm-command/</guid>
      <description>&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;查看虚拟机信息&#34;&#xA;    &gt;&#xA;        查看虚拟机信息&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#查看虚拟机信息&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 查看虚拟机信息&#34; aria-label=&#34;Anchor to: 查看虚拟机信息&#34; href=&#34;#%e6%9f%a5%e7%9c%8b%e8%99%9a%e6%8b%9f%e6%9c%ba%e4%bf%a1%e6%81%af&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;1-查看所有虚拟机&#34;&#xA;    &gt;&#xA;        1. 查看所有虚拟机&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#1-查看所有虚拟机&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. 查看所有虚拟机&#34; aria-label=&#34;Anchor to: 1. 查看所有虚拟机&#34; href=&#34;#1-%e6%9f%a5%e7%9c%8b%e6%89%80%e6%9c%89%e8%99%9a%e6%8b%9f%e6%9c%ba&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh list --all&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;输出示例：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Id   Name        State&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---------------------------&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 1    vm1         running&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; -    vm2         shut off&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;2-查看虚拟机详细信息&#34;&#xA;    &gt;&#xA;        2. 查看虚拟机详细信息&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#2-查看虚拟机详细信息&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 2. 查看虚拟机详细信息&#34; aria-label=&#34;Anchor to: 2. 查看虚拟机详细信息&#34; href=&#34;#2-%e6%9f%a5%e7%9c%8b%e8%99%9a%e6%8b%9f%e6%9c%ba%e8%af%a6%e7%bb%86%e4%bf%a1%e6%81%af&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh dominfo VM_NAME&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh dominfo vm2&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Id:             -&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Name:           vm2&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# UUID:           3adbc6d0-a826-4eb3-baae-afa5ac661230&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# OS Type:        hvm&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# State:          shut off&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# CPU(s):         2&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Max memory:     2097152 KiB&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Used memory:    2097152 KiB&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Persistent:     yes&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Autostart:      disable&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Managed save:   no&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Security model: none&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Security DOI:   0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;3-查看虚拟机-xml-配置&#34;&#xA;    &gt;&#xA;        3. 查看虚拟机 XML 配置&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#3-查看虚拟机-xml-配置&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 3. 查看虚拟机 XML 配置&#34; aria-label=&#34;Anchor to: 3. 查看虚拟机 XML 配置&#34; href=&#34;#3-%e6%9f%a5%e7%9c%8b%e8%99%9a%e6%8b%9f%e6%9c%ba-xml-%e9%85%8d%e7%bd%ae&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh dumpxml VM_NAME&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;4-查看虚拟机网络信息&#34;&#xA;    &gt;&#xA;        4. 查看虚拟机网络信息&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#4-查看虚拟机网络信息&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 4. 查看虚拟机网络信息&#34; aria-label=&#34;Anchor to: 4. 查看虚拟机网络信息&#34; href=&#34;#4-%e6%9f%a5%e7%9c%8b%e8%99%9a%e6%8b%9f%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%bf%a1%e6%81%af&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh domiflist VM_NAME&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh domiflist vm2&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#  Interface   Type     Source   Model    MAC&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# -----------------------------------------------------------&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#  -           bridge   br0      virtio   52:54:00:0c:b8:dd&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;5-查看虚拟机磁盘信息&#34;&#xA;    &gt;&#xA;        5. 查看虚拟机磁盘信息&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#5-查看虚拟机磁盘信息&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 5. 查看虚拟机磁盘信息&#34; aria-label=&#34;Anchor to: 5. 查看虚拟机磁盘信息&#34; href=&#34;#5-%e6%9f%a5%e7%9c%8b%e8%99%9a%e6%8b%9f%e6%9c%ba%e7%a3%81%e7%9b%98%e4%bf%a1%e6%81%af&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh domblklist VM_NAME&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh domblklist vm2&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#  Target   Source&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# -------------------------------------------------------&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#  vda      /data/kvm/images/vm2.qcow2&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#  sda      /data/isos/AlmaLinux-9.7-x86_64-minimal.iso&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;创建虚拟机&#34;&#xA;    &gt;&#xA;        创建虚拟机&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#创建虚拟机&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 创建虚拟机&#34; aria-label=&#34;Anchor to: 创建虚拟机&#34; href=&#34;#%e5%88%9b%e5%bb%ba%e8%99%9a%e6%8b%9f%e6%9c%ba&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;1-使用-virt-install-创建&#34;&#xA;    &gt;&#xA;        1. 使用 virt-install 创建&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/kvm-command/#1-使用-virt-install-创建&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1. 使用 virt-install 创建&#34; aria-label=&#34;Anchor to: 1. 使用 virt-install 创建&#34; href=&#34;#1-%e4%bd%bf%e7%94%a8-virt-install-%e5%88%9b%e5%bb%ba&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-install &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name vm1 &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --memory &lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --vcpus &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --disk &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/data/kvm/images/vm1.qcow2,size&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;40&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --os-variant almalinux9 &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --graphics vnc &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --cdrom /data/isos/AlmaLinux-9.7-x86_64-minimal.iso&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;参数说明&lt;/p&gt;</description>
    </item>
    <item>
      <title>创建桥接网卡</title>
      <link>https://documents.v2ep.com/operations/kvm/create-bridge/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/kvm/create-bridge/</guid>
      <description>&lt;p&gt;环境：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;系统：AlmaLinux 9.7&lt;/li&gt;&#xA;&lt;li&gt;网卡：enp0s31f6&lt;/li&gt;&#xA;&lt;li&gt;KVM：qemu-kvm 9.1.0&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;目标：&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;在物理网卡 enp0s31f6 的前提下，创建 br0，并且“不破坏、不掉线”物理主机当前网络&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;下面是「不中断网络」的标准做法，生产环境可直接用的方案。&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;一核心原则先记住这-4-条&#34;&#xA;    &gt;&#xA;        一、核心原则（先记住这 4 条）&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/create-bridge/#一核心原则先记住这-4-条&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 一、核心原则（先记住这 4 条）&#34; aria-label=&#34;Anchor to: 一、核心原则（先记住这 4 条）&#34; href=&#34;#%e4%b8%80%e6%a0%b8%e5%bf%83%e5%8e%9f%e5%88%99%e5%85%88%e8%ae%b0%e4%bd%8f%e8%bf%99-4-%e6%9d%a1&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;不破坏网络 = 不动 IP、不动网关、不动 DNS、不强制 down 网卡&lt;/p&gt;&#xA;&lt;p&gt;正确模型：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enp0s31f6  (无 IP，仅 slave)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     │&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     └── br0  (继承原 enp0s31f6 的 IP / 网关 / DNS)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;关键点：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;❌ enp0s31f6 不再配置 IP&lt;/li&gt;&#xA;&lt;li&gt;✅ br0 接管原有网络配置&lt;/li&gt;&#xA;&lt;li&gt;✅ 使用 NetworkManager 热切换（不中断）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;二开始前记录当前网络配置非常重要&#34;&#xA;    &gt;&#xA;        二、开始前：记录当前网络配置（非常重要）&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/create-bridge/#二开始前记录当前网络配置非常重要&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 二、开始前：记录当前网络配置（非常重要）&#34; aria-label=&#34;Anchor to: 二、开始前：记录当前网络配置（非常重要）&#34; href=&#34;#%e4%ba%8c%e5%bc%80%e5%a7%8b%e5%89%8d%e8%ae%b0%e5%bd%95%e5%bd%93%e5%89%8d%e7%bd%91%e7%bb%9c%e9%85%8d%e7%bd%ae%e9%9d%9e%e5%b8%b8%e9%87%8d%e8%a6%81&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;这是“保险步骤”，防止误操作&lt;/p&gt;</description>
    </item>
    <item>
      <title>在 AlmaLinux 9 上安装 KVM</title>
      <link>https://documents.v2ep.com/operations/kvm/install-kvm-on-almalinux-9/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://documents.v2ep.com/operations/kvm/install-kvm-on-almalinux-9/</guid>
      <description>&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;一环境与前置条件&#34;&#xA;    &gt;&#xA;        一、环境与前置条件&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/install-kvm-on-almalinux-9/#一环境与前置条件&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 一、环境与前置条件&#34; aria-label=&#34;Anchor to: 一、环境与前置条件&#34; href=&#34;#%e4%b8%80%e7%8e%af%e5%a2%83%e4%b8%8e%e5%89%8d%e7%bd%ae%e6%9d%a1%e4%bb%b6&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;硬件要求&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;CPU：支持 &lt;strong&gt;Intel VT-x / AMD-V&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;BIOS：开启 &lt;strong&gt;Virtualization&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;内存：≥ 16 GB（8 GB 勉强）&lt;/li&gt;&#xA;&lt;li&gt;磁盘：≥ 100 GB&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;验证 CPU 虚拟化&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;egrep -c &lt;span class=&#34;s1&#34;&gt;&amp;#39;(vmx|svm)&amp;#39;&lt;/span&gt; /proc/cpuinfo&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;≥1 即支持&lt;/p&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;二安装-kvm-核心组件&#34;&#xA;    &gt;&#xA;        二、安装 KVM 核心组件&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/install-kvm-on-almalinux-9/#二安装-kvm-核心组件&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 二、安装 KVM 核心组件&#34; aria-label=&#34;Anchor to: 二、安装 KVM 核心组件&#34; href=&#34;#%e4%ba%8c%e5%ae%89%e8%a3%85-kvm-%e6%a0%b8%e5%bf%83%e7%bb%84%e4%bb%b6&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h3 id=&#34;1-安装虚拟化组件&#34;&#xA;    &gt;&#xA;        1️⃣ 安装虚拟化组件&#xA;    &lt;/h3&gt;&#xA;    &lt;a data-clipboard-text=&#34;https://documents.v2ep.com/operations/kvm/install-kvm-on-almalinux-9/#1-安装虚拟化组件&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: 1️⃣ 安装虚拟化组件&#34; aria-label=&#34;Anchor to: 1️⃣ 安装虚拟化组件&#34; href=&#34;#1-%e5%ae%89%e8%a3%85%e8%99%9a%e6%8b%9f%e5%8c%96%e7%bb%84%e4%bb%b6&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnf install -y &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    qemu-kvm &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    libvirt &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    virt-install &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    virt-manager &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    virt-viewer &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    bridge-utils &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    cockpit &lt;span class=&#34;se&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    cockpit-machines&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将有 sudo 权限的用户加入 libvirt 组：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
